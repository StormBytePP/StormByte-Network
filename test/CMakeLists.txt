option(ENABLE_TEST "Enable Unit Tests" OFF)
if(ENABLE_TEST AND NOT STORMBYTE_AS_DEPENDENCY)
	add_executable(ClientServerTests client_server_test.cxx)
	target_link_libraries(ClientServerTests StormByte::Network)
	add_test(NAME ClientServerTests COMMAND ClientServerTests)

	# Server/client socket tests (POSIX socket based)
	add_executable(ServerSocketTest socket_server_test.cxx)
	target_link_libraries(ServerSocketTest StormByte::Network)
	add_executable(ClientSocketTest socket_client_test.cxx)
	target_link_libraries(ClientSocketTest StormByte::Network)
	add_test(NAME ServerSocketTest COMMAND ServerSocketTest)
	add_test(NAME ClientSocketTest COMMAND ClientSocketTest)
endif()